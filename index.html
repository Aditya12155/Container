<script>
function setActive(btn){
  document.querySelectorAll("nav button")
    .forEach(b=>b.classList.remove("active"));
  if(btn) btn.classList.add("active");
}

function loadMD(file, btn){

  setActive(btn);

  document.getElementById("content").innerHTML =
    '<div class="loader">‚è≥ Loading...</div>';

  fetch(file)
    .then(res=>{
      if(!res.ok) throw new Error("File not found ‚Üí " + file);
      return res.text();
    })
    .then(md=>{

      const stopAt = md.indexOf("## üìÇ Quick Navigation");
      if(stopAt !== -1){
        md = md.substring(0, stopAt);
      }

      document.getElementById("content").innerHTML =
        marked.parse(md);
    })
    .catch(err=>{
      document.getElementById("content").innerHTML =
        `<h2>‚ùå Error</h2><p>${err}</p>`;
    });
}

/* ‚úÖ Load home by default */
loadMD("readme.md");
</script>